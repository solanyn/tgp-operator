---
image:
  repository: ghcr.io/solanyn/tgp-operator
  tag: latest
  pullPolicy: Always
controller:
  replicas: 1
  resources: {}
  securityContext:
    runAsNonRoot: true
    runAsUser: 65532
    allowPrivilegeEscalation: false
    capabilities:
      drop: [ALL]
    readOnlyRootFilesystem: true
  nodeSelector: {}
  tolerations: []
  affinity: {}
health:
  port: 8081
metrics:
  port: 8080
serviceAccount:
  create: true
  name: tgp-operator
  annotations: {}
rbac:
  create: true

# Operator configuration
config:
  # Cloud provider configurations
  providers:
    vultr:
      enabled: false
      credentialsRef:
        name: "tgp-operator-secret"
        # namespace: ""  # defaults to release namespace
        key: "VULTR_API_KEY"
    gcp:
      enabled: false
      credentialsRef:
        name: "tgp-operator-secret"
        key: "GOOGLE_APPLICATION_CREDENTIALS_JSON"

  # Talos Linux configuration
  talos:
    version: "v1.11.0-beta.1"
    extensions:
      - "siderolabs/nvidia-container-toolkit-production"
      - "siderolabs/nvidia-fabricmanager-production"
      - "siderolabs/amdgpu"
      - "siderolabs/tailscale"
      - "siderolabs/amd-ucode"
      - "siderolabs/intel-ucode"
      - "siderolabs/i915-ucode"
